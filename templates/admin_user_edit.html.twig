{% extends "master.html.twig" %}

{% block content %}
<h2>Edit User</h2>
<form method="post" action="/admin/user/{{ user.id }}/edit">
    <label for="name">Name:</label>
    <input type="text" name="name" id="name" value="{{ user.name }}" required>

    <label for="email">Email:</label>
    <input type="email" name="email" id="email" value="{{ user.email }}" required>

    <!-- Optional: let admin change role -->
    <label for="role">Role:</label>
    <select name="role" id="role">
        <option value="parent"   {% if user.role == 'parent'   %}selected{% endif %}>Parent</option>
        <option value="educator" {% if user.role == 'educator' %}selected{% endif %}>Educator</option>
        <option value="manager"  {% if user.role == 'manager'  %}selected{% endif %}>Manager</option>
        <option value="admin"    {% if user.role == 'admin'    %}selected{% endif %}>Admin</option>
    </select>

    <br><br>
    <button type="submit">Update User</button>
</form>

<hr>

<!-- Separate form to delete user -->
<form method="post" action="/admin/user/{{ user.id }}/edit">
    <input type="hidden" name="action" value="delete">
    <button type="submit" style="background-color: red; color: white;">Delete User</button>
</form>
{% endblock %}

{% extends "master.html.twig" %}

{% block title %}Login
{% endblock %}

{% block content %}
	<div class="row justify-content-center">
		<div class="col-md-6">
			<h1 class="mb-4 text-center">Login</h1>
			{% if messages.success %}
				<div class="alert alert-success">{{ messages.success[0]|raw }}</div>
			{% endif %}
			{% if messages.error %}
				<div class="alert alert-danger">{{ messages.error[0] }}</div>
			{% endif %}

			<form action="/login" method="post" class="needs-validation" novalidate>
				<div class="mb-3">
					<label for="email" class="form-label">Email:</label>
					<input type="email" name="email" id="email" class="form-control" required value="{{ formData.email|default('') }}">
					<div class="invalid-feedback">
						Please enter a valid email.
					</div>
				</div>
				<div class="mb-3">
					<label for="password" class="form-label">Password:</label>
					<input type="password" name="password" id="password" class="form-control" required>
					<div class="invalid-feedback">
						Please provide your password.
					</div>
				</div>
				<button type="submit" class="btn btn-primary w-100">Login</button>
			</form>
			<p class="mt-3 text-center">
				<a href="/forgot-password">Forgot your password?</a>
			</p>
		</div>
	</div>
{% endblock %}

{% block addJS %}
	<script>
		// Example JavaScript for disabling form submissions if there are invalid fields (Bootstrap validation)
(() => {
'use strict';
const forms = document.querySelectorAll('.needs-validation');
Array.from(forms).forEach(form => {
form.addEventListener('submit', event => {
if (!form.checkValidity()) {
event.preventDefault();
event.stopPropagation();
}
form.classList.add('was-validated');
}, false);
});
})();
	</script>
{% endblock %}
